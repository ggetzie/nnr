!function(e){jQuery.fn.rPage=function(){for(var i=e(this),t=0,s=i.length;t<s;t++)new n(e(i[t]));function n(i){var t;this.label=function(){var i=this.els.filter(".active").index(),t=this;this.els.each((function(){0==t.isNextOrPrevLink(e(this))?e(this).addClass("page-away-"+Math.abs(i-e(this).index()).toString()):e(this).index()>i?e(this).addClass("right-etc"):e(this).addClass("left-etc")}))},this.makeResponsive=function(){this.reset();for(var e=this.calculateWidth();e>this.els.parent().parent().width()-10;){if(0==this.removeOne())break;e=this.calculateWidth()}},this.isNextOrPrevLink=function(e){return e.hasClass("pagination-prev")||e.hasClass("pagination-next")||"»"==e.text()||"«"==e.text()},this.isRemovable=function(e){if(this.isNextOrPrevLink(e))return!1;var t=this.els.filter(e).index();return 1!=t&&!this.isNextOrPrevLink(i.find("li").eq(t+1))&&"..."!=e.text()},this.removeOne=function(){for(var e=this.els.filter(".active").index(),t=i.find("li").length-1,s=t-1;s>0;s--){var n=this.els.filter(".page-away-"+s.toString()).filter((function(){return"none"!=this.style.display}));if(n.length>0)for(var r=0;r<n.length;r++){var a=n.eq(r);if(this.isRemovable(a))return a.css("display","none"),this.needsEtcSign(e,t-1)&&this.els.eq(t-2).before("<li class='disabled removable'><span>...</span></li>"),this.needsEtcSign(1,e)&&this.els.eq(1).after("<li class='disabled removable'><span>...</span></li>"),!0}}return!1},this.needsEtcSign=function(e,t){if(t-e<=1)return!1;for(var s=!1,n=!1,r=e+1;r<t;r++){var a=i.find("li").eq(r);"none"==a.css("display")&&(n=!0),"..."==a.text()&&(s=!0)}return 1==n&&0==s},this.reset=function(){for(var e=0;e<this.els.length;e++)this.els.eq(e).css("display","inline");i.find("li").filter(".removable").remove()},this.calculateWidth=function(){for(var e=0,t=0;t<i.find("li").length;t++)"none"!=i.find("li").eq(t).css("display")&&(i.find("li").eq(t).children("a").eq(0).length>0&&(e+=i.find("li").eq(t).children("a").eq(0).outerWidth()),i.find("li").eq(t).children("span").eq(0).length>0&&(e+=i.find("li").eq(t).children("span").eq(0).outerWidth()));return e},this.els=i.find("li"),this.label(),this.makeResponsive(),e(window).resize(e.proxy((function(){clearTimeout(t),t=setTimeout(e.proxy((function(){this.makeResponsive()}),this),100)}),this))}}}(jQuery);